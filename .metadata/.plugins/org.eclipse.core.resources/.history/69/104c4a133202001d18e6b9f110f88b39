package metatrader.utilities;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.FileReader;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

import metatrader.entities.Cotacao;

public class LeitorCSV {

	private BufferedReader reader;

	// IOXException - Input and Output Exception
	public void abrir(String nomeDoArquivo) throws FileNotFoundException, IOException {
		File path = new File("");
		String pathname = path.getAbsolutePath() + "\\" + nomeDoArquivo;
		reader = new BufferedReader(new FileReader(pathname));
	}

	public List<Cotacao> ler() throws IOException {
		
		List<Cotacao> dados = new ArrayList<>();
		String line;
		
		// linha recebe o conte√∫do do arquivo
		// enquanto tiver linha eu continuo lendo
		while ((line = reader.readLine()) != null) {
			dados.add(new String(line));
		}
		
		return dados;
	}
	
	public void fechar() throws IOException {
		reader.close();
	}

}
